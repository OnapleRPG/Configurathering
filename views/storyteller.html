<html>
<head>
    <script src="dist.js"></script>
    <link rel="stylesheet" href="bundle.css">
  </head>
<body>
    <div class="container border rounded border-light p-2 mt-3">
        <form id="dialog-form" action="/storyteller" method="post">
            <h3>Dialogue</h3>
            <div class="form-group row">
                <label for="index" class="col-sm-2 col-form-label">Id :<span class="text-danger">*</span></label>
                <div class='col-sm-10'>
                    <input type="number" name="index" class="form-control" id="index">
                    <small id="indexHelp" class="form-text text-muted">L'index doit etre unique.</small>
                </div>
            </div>


            <div class="card border border-success mt-3">
                <h5 class="card-header text-white bg-success mb-3">
                    Conditions
                </h5>

                <div class="card-body">
                    <div class="form-group row">
                        <label for="trigger" class="col-sm-2 col-form-label">Trigger :</label>
                        <div class='col-sm-10'>
                            <input type="text" class="form-control" name="trigger" id="trigger">
                            <small id="triggerHelp" class="form-text text-muted">Les PNJ qui vont lancer ce dialogue.</small>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="objectif" class="col-sm-2 col-form-label">Objectifs :</label>
                        <div class='col-sm-10'>
                            <input type="text" class="form-control" name="objectif" id="objectif">
                            <small id="objectifHelp" class="form-text text-muted">l'obectif permet de lancer le dialogues sous certaines conditions.</small>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="item" class="col-sm-2 col-form-label">Objet :</label>
                        <div class='col-sm-5'>
                            <input type="text" class="form-control" name="item" id="item">
                            <small id="itemHelp" class="form-text text-muted">Quantit√© d'item necaissaire pour activer ce dialogue.</small>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card border mt-3">
                <div class="card-header bg-light">
                    <ul class="nav nav-tabs card-header-tabs" id="pageTabs" role="tablist">
                        <li class="nav-item border-bottom-0"><a class="nav-link" href="#" id="addpageButton">+</a></li>
                    </ul>
                </div>
                <div class="card-body">
                    <div class="tab-content" id="page-content">

                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-block btn-success mt-3">Ajouter</button>


        </form>
    </div>
    <div class="container">
        <table id="dialogs-grid" data-url="/list/storyteller">
            <thead>
                <tr>
                    <th data-field="id">id</th>
                    <th data-field="pages" data-formatter="textformatter">Texte</th>
                    <th data-field="id" data-formatter="actionformatter">action</th>
                </tr>
            </thead>
        </table>
        <button type="button" id="submit">Envoyer</button>
    </div>


        
    <script>
        function  textformatter(value, row, index, field){
            console.log(value)
            return value[0].text
        }
        function  actionformatter(value, row, index, field){
            console.log(value)
            return `<div class="btn-group" role="group" aria-label="actions">
        <a href='#' data-value='${value}' class='btn btn-secondary btn-action'><i class=''></i>Acceder</a>
        <a href='#' data-value='${value}' class='btn btn-danger btn-remove'><i class=''></i>Supprimer</a>
        </div>`
        }
    </script>
</body>


</html>